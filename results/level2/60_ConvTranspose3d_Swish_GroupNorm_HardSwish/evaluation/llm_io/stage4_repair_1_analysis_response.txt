```json
{
  "critical_issue": "Symbolic tensor (tl.sum result) used in Python if condition, which Triton doesn't allow.",
  "why_it_matters": "Triton requires masks/tl.where for conditional logic, not Python if with symbolic values.",
  "minimal_fix_hint": "Replace 'if not tl.sum(spatial_valid):' with mask-based skipping using tl.where or mask updates."
}
```